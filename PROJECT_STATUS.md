# ğŸ“‹ é¡¹ç›®æ£€æŸ¥æŠ¥å‘Šå’Œå¯åŠ¨æŒ‡å—

## ğŸ” æ£€æŸ¥ç»“æœ

### âœ… å·²ä¿®å¤çš„é—®é¢˜

1. **storage.config.ts ä¸­çš„æ½œåœ¨é”™è¯¯**
   - **é—®é¢˜**ï¼š`departmentStoragePaths` ä¸­ç›´æ¥ä½¿ç”¨ `process.env.STORAGE_PATH`ï¼Œå¦‚æœç¯å¢ƒå˜é‡æœªè®¾ç½®ä¼šå¯¼è‡´ `undefined + '/public'` çš„é”™è¯¯
   - **ä¿®å¤**ï¼šå·²æ·»åŠ  `getStoragePath()` å‡½æ•°ï¼Œä½¿ç”¨é»˜è®¤å€¼ `'./storage'` ä½œä¸ºåå¤‡

### âš ï¸ éœ€è¦æ³¨æ„çš„é—®é¢˜

1. **ç¼ºå°‘ .env æ–‡ä»¶**
   - é¡¹ç›®ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ï¼Œä½† `backend` ç›®å½•ä¸‹å¯èƒ½æ²¡æœ‰ `.env` æ–‡ä»¶
   - **å½±å“**ï¼šè™½ç„¶ä»£ç æœ‰é»˜è®¤å€¼ï¼Œä½†å»ºè®®åˆ›å»º `.env` æ–‡ä»¶ä»¥æ˜ç¡®é…ç½®
   - **è§£å†³**ï¼šè§ä¸‹æ–¹"ç¯å¢ƒé…ç½®"éƒ¨åˆ†

2. **å­˜å‚¨ç›®å½•å¯èƒ½ä¸å­˜åœ¨**
   - `storage.config.ts` ä¼šåˆ›å»ºå­˜å‚¨ç›®å½•ï¼Œä½†é¦–æ¬¡è¿è¡Œéœ€è¦ç¡®ä¿æœ‰å†™å…¥æƒé™

### âœ… é¡¹ç›®ç»“æ„æ­£å¸¸

- âœ… åç«¯ï¼šNestJS + TypeORM + SQLite
- âœ… å‰ç«¯ï¼šVue 3 + TypeScript + Vite
- âœ… æ•°æ®åº“ï¼šSQLiteï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
- âœ… è®¤è¯ï¼šJWT + Passport
- âœ… CORSï¼šå·²é…ç½®å…è®¸å‰ç«¯è®¿é—®

## ğŸš€ å¯åŠ¨æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥ç¯å¢ƒ

ç¡®ä¿å·²å®‰è£…ï¼š
- Node.js >= 16.x
- npm >= 8.x

æ£€æŸ¥å‘½ä»¤ï¼š
```powershell
node -v
npm -v
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰

**åç«¯ä¾èµ–**ï¼š
```powershell
cd E:\node\enbonadmin\backend
npm install
```

**å‰ç«¯ä¾èµ–**ï¼š
```powershell
cd E:\node\enbonadmin\frontend
npm install
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ä½†æ¨èï¼‰

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# æ•°æ®åº“é…ç½®ï¼ˆSQLiteï¼‰
DB_TYPE=sqlite
DB_PATH=./data/enbon-admin.db

# JWTé…ç½®
JWT_SECRET=enbon-admin-secret-key-change-in-production
JWT_EXPIRES_IN=24h

# æ–‡ä»¶å­˜å‚¨
STORAGE_PATH=./storage
MAX_FILE_SIZE=104857600
```

**æ³¨æ„**ï¼šå¦‚æœä¸åˆ›å»º `.env` æ–‡ä»¶ï¼Œé¡¹ç›®ä¼šä½¿ç”¨ä»£ç ä¸­çš„é»˜è®¤å€¼ï¼Œä½†å»ºè®®åˆ›å»ºä»¥æ˜ç¡®é…ç½®ã€‚

### ç¬¬å››æ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡å™¨

æ‰“å¼€**ç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£**ï¼š

```powershell
cd E:\node\enbonadmin\backend
npm run start:dev
```

**é¢„æœŸè¾“å‡º**ï¼š
```
[Nest] Starting Nest application...
[Nest] Dependencies initialized
[Nest] InstanceLoader initialized
[Nest] Routes mapped
ğŸš€ Backend server running on http://localhost:3000
âœ… é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·å·²åˆ›å»º: admin / 123456
```

**æˆåŠŸæ ‡å¿—**ï¼š
- çœ‹åˆ° "ğŸš€ Backend server running on http://localhost:3000"
- çœ‹åˆ° "âœ… é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·å·²åˆ›å»º"
- `backend/data/enbon-admin.db` æ–‡ä»¶è¢«åˆ›å»º

### ç¬¬äº”æ­¥ï¼šå¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

æ‰“å¼€**ç¬¬äºŒä¸ªå‘½ä»¤è¡Œçª—å£**ï¼š

```powershell
cd E:\node\enbonadmin\frontend
npm run dev
```

**é¢„æœŸè¾“å‡º**ï¼š
```
VITE v7.1.12 ready in XXX ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
```

### ç¬¬å…­æ­¥ï¼šè®¿é—®ç³»ç»Ÿ

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:5173**
2. åº”è¯¥è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
3. ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•ï¼š
   - **ç”¨æˆ·å**ï¼š`admin`
   - **å¯†ç **ï¼š`123456`
4. ç™»å½•æˆåŠŸåè¿›å…¥é¦–é¡µ

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šåç«¯æ— æ³•å¯åŠ¨

**é”™è¯¯ä¿¡æ¯**ï¼š`Cannot find module 'xxx'`

**è§£å†³æ–¹æ³•**ï¼š
```powershell
cd backend
rm -rf node_modules package-lock.json
npm install
```

### é—®é¢˜2ï¼šç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**ï¼š`EADDRINUSE: address already in use :::3000`

**è§£å†³æ–¹æ³•**ï¼š
```powershell
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :3000

# æ€æ‰è¿›ç¨‹ï¼ˆæ›¿æ¢<PID>ä¸ºå®é™…è¿›ç¨‹å·ï¼‰
taskkill /PID <PID> /F
```

### é—®é¢˜3ï¼šæ•°æ®åº“é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š`sqlite database not found` æˆ–æ•°æ®åº“è¿æ¥é”™è¯¯

**è§£å†³æ–¹æ³•**ï¼š
```powershell
cd backend
# åˆ é™¤æ—§çš„æ•°æ®åº“æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
rm -rf data\*.db
# é‡å¯åç«¯æœåŠ¡å™¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°æ•°æ®åº“
npm run start:dev
```

### é—®é¢˜4ï¼šå‰ç«¯æ— æ³•è¿æ¥åç«¯

**ç—‡çŠ¶**ï¼šç™»å½•å¤±è´¥ï¼Œç½‘ç»œé”™è¯¯

**æ£€æŸ¥é¡¹**ï¼š
1. ç¡®è®¤åç«¯åœ¨ http://localhost:3000 è¿è¡Œ
2. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥ `frontend/src/api/config.ts` ä¸­çš„ `baseURL` æ˜¯å¦æ­£ç¡®
4. ç¡®è®¤åç«¯CORSé…ç½®æ­£ç¡®ï¼ˆå·²é…ç½®ä¸º `http://localhost:5173`ï¼‰

### é—®é¢˜5ï¼šç¼–è¯‘é”™è¯¯

**ç—‡çŠ¶**ï¼šç»ˆç«¯æ˜¾ç¤º TypeScript é”™è¯¯

**è§£å†³æ–¹æ³•**ï¼š
1. æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯
2. ä¿®å¤é”™è¯¯
3. é‡æ–°ç¼–è¯‘ä¼šè‡ªåŠ¨å¯åŠ¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

## ğŸ“Š é¡¹ç›®çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

- [x] é¡¹ç›®åŸºç¡€æ¶æ„æ­å»º
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆJWTï¼‰
- [x] ç™»å½•é¡µé¢
- [x] é¦–é¡µï¼ˆåŠ±å¿—åè¨€ã€å…¨çƒæ—¶é’Ÿã€æ±‡ç‡ã€é€šçŸ¥ã€é€šå‘Šï¼‰
- [x] ä¾§è¾¹å¯¼èˆªæ 
- [x] æ–‡ä»¶ç®¡ç†ç³»ç»ŸåŸºç¡€æ¡†æ¶
- [x] æƒé™ç®¡ç†ç³»ç»ŸåŸºç¡€æ¡†æ¶
- [x] é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·è‡ªåŠ¨åˆ›å»º

### ğŸš§ å¼€å‘ä¸­åŠŸèƒ½

- [ ] æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½åŠŸèƒ½
- [ ] æ–‡ä»¶åœ¨çº¿é¢„è§ˆ
- [ ] æ–‡ä»¶å¤¹ç®¡ç†
- [ ] æƒé™ç»†ç²’åº¦æ§åˆ¶
- [ ] å°æ»¡CRMé›†æˆ
- [ ] é‡‘è¶è´¢åŠ¡é›†æˆ
- [ ] é£ä¹¦é›†æˆ
- [ ] AIæ™ºèƒ½æœç´¢
- [ ] æ™ºèƒ½å·¥ä½œæµ

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

### æµ‹è¯•åç«¯API

ä½¿ç”¨ PowerShell æµ‹è¯•ç™»å½•ï¼š
```powershell
curl -X POST http://localhost:3000/api/auth/login `
  -H "Content-Type: application/json" `
  -d '{\"username\":\"admin\",\"password\":\"123456\"}'
```

å¦‚æœè¿”å› JSON æ ¼å¼çš„ tokenï¼Œè¯´æ˜åç«¯æ­£å¸¸å·¥ä½œã€‚

### æµ‹è¯•å‰ç«¯é¡µé¢

1. è®¿é—®ï¼šhttp://localhost:5173
2. åº”è¯¥çœ‹åˆ°ç™»å½•é¡µé¢
3. è¾“å…¥ `admin` / `123456`
4. ç‚¹å‡»ç™»å½•
5. åº”è¯¥æˆåŠŸè·³è½¬åˆ°é¦–é¡µ

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
enbonadmin/
â”œâ”€â”€ frontend/          # å‰ç«¯é¡¹ç›®ï¼ˆVue 3 + TypeScriptï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/     # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/    # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/       # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ store/     # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ router/    # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/           # åç«¯é¡¹ç›®ï¼ˆNestJS + TypeScriptï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ modules/   # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ config/    # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ main.ts
â”‚   â”œâ”€â”€ data/          # æ•°æ®åº“æ–‡ä»¶ï¼ˆSQLiteï¼‰
â”‚   â”œâ”€â”€ storage/       # æ–‡ä»¶å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ README.md          # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ QUICK_START.md     # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â””â”€â”€ PROJECT_STATUS.md  # æœ¬æ–‡ä»¶
```

## ğŸ“ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**ï¼šNestJS 11.x
- **æ•°æ®åº“**ï¼šSQLiteï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- **ORM**ï¼šTypeORM
- **è®¤è¯**ï¼šJWT + Passport
- **æ–‡ä»¶ä¸Šä¼ **ï¼šMulter

### å‰ç«¯
- **æ¡†æ¶**ï¼šVue 3 + TypeScript
- **UIç»„ä»¶**ï¼šElement Plus
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **è·¯ç”±**ï¼šVue Router
- **æ„å»ºå·¥å…·**ï¼šVite
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios

## âœ… å¯åŠ¨æ£€æŸ¥æ¸…å•

å¯åŠ¨å‰ç¡®è®¤ï¼š
- [ ] Node.js å·²å®‰è£…ï¼ˆ>= 16.xï¼‰
- [ ] npm å·²å®‰è£…ï¼ˆ>= 8.xï¼‰
- [ ] åç«¯ä¾èµ–å·²å®‰è£…ï¼ˆ`backend/node_modules` å­˜åœ¨ï¼‰
- [ ] å‰ç«¯ä¾èµ–å·²å®‰è£…ï¼ˆ`frontend/node_modules` å­˜åœ¨ï¼‰
- [ ] ç«¯å£ 3000 æœªè¢«å ç”¨ï¼ˆåç«¯ï¼‰
- [ ] ç«¯å£ 5173 æœªè¢«å ç”¨ï¼ˆå‰ç«¯ï¼‰

å¯åŠ¨åéªŒè¯ï¼š
- [ ] åç«¯è¾“å‡º "ğŸš€ Backend server running on http://localhost:3000"
- [ ] åç«¯è¾“å‡º "âœ… é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·å·²åˆ›å»º"
- [ ] æ•°æ®åº“æ–‡ä»¶ `backend/data/enbon-admin.db` å­˜åœ¨
- [ ] å‰ç«¯è¾“å‡º "VITE v7.1.12 ready"
- [ ] æµè§ˆå™¨èƒ½è®¿é—® http://localhost:5173
- [ ] ç™»å½•é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] ä½¿ç”¨ admin/123456 èƒ½æˆåŠŸç™»å½•
- [ ] ç™»å½•åè·³è½¬åˆ°é¦–é¡µ
- [ ] é¦–é¡µæ˜¾ç¤ºåŠ±å¿—åè¨€ã€æ—¶é’Ÿã€æ±‡ç‡ç­‰

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. åç«¯ç»ˆç«¯çš„å®Œæ•´è¾“å‡º
2. å‰ç«¯ç»ˆç«¯çš„å®Œæ•´è¾“å‡º
3. æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯ï¼ˆF12ï¼‰
4. ç½‘ç»œæ ‡ç­¾ä¸­çš„è¯·æ±‚è¯¦æƒ…

æŸ¥çœ‹ä»¥ä¸‹æ–‡æ¡£è·å–æ›´å¤šä¿¡æ¯ï¼š
- `README.md` - é¡¹ç›®æ¦‚è¿°
- `QUICK_START.md` - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- `SETUP.md` - è¯¦ç»†å®‰è£…è¯´æ˜
- `CHECK_STATUS.md` - çŠ¶æ€æ£€æŸ¥æŒ‡å—
- `TROUBLESHOOTING.md` - æ•…éšœæ’æŸ¥æŒ‡å—

---

**æœ€åæ›´æ–°**ï¼š2024å¹´12æœˆ
**é¡¹ç›®çŠ¶æ€**ï¼šâœ… å¯ä»¥æ­£å¸¸å¯åŠ¨

