# 项目设置说明

## 🎉 已完成的基础功能

### 1. 项目架构 ✅
- ✅ 前后端项目已成功搭建
- ✅ Vue3 + NestJS 技术栈配置完成
- ✅ 数据库和认证系统基础架构就绪

### 2. 登录和认证 ✅
- ✅ 后端用户认证系统（JWT）
- ✅ 前端登录页面对接
- ✅ 用户状态管理（Pinia）
- ✅ 路由守卫保护
- ✅ 默认管理员账户自动创建

### 3. 首页功能 ✅
- ✅ 励志名言随机播放（8秒切换）
- ✅ 4个时区时钟（东京、纽约、中东、欧洲）
- ✅ 汇率显示模块（USD、EUR、GBP、JPY）
- ✅ 通知和待办事项
- ✅ 公司通告和行业新闻
- ✅ 响应式布局

### 4. 导航和布局 ✅
- ✅ 侧边导航栏（可折叠）
- ✅ 顶部用户信息栏
- ✅ 用户退出登录功能

## 🚀 启动项目

### 第一步：启动后端服务器

```bash
cd backend
npm run start:dev
```

后端将在 `http://localhost:3002` 启动

**首次启动会自动创建**：
- SQLite数据库文件：`./data/enbon-admin.db`
- 默认管理员账户：`admin / 123456`

### 第二步：启动前端开发服务器

在新的命令行窗口中：

```bash
cd frontend
npm run dev
```

前端将在 `http://localhost:5173` 启动

### 第三步：访问系统

1. 打开浏览器访问 `http://localhost:5173`
2. 使用默认账户登录：`admin / 123456`
3. 登录后进入首页，查看各项功能

## 📁 本地文件存储配置

由于目前在本地开发，文件存储路径配置为：

```
backend/storage/                # 基础存储路径
├── public/                    # 公共区域（10T）
├── department/
│   ├── planning/              # 企划部（10T）
│   ├── sales/                 # 销售部（10T）
│   ├── tech/                  # 技术部（10T）
│   ├── finance/               # 财务部（5T）
│   └── hr/                    # 人事行政（5T）
```

**注意**：首次运行时会自动创建这些目录结构。

## 🔧 环境变量配置

在 `backend` 目录下创建 `.env` 文件：

```env
# 服务器配置
PORT=3002
NODE_ENV=development

# 数据库配置
DB_TYPE=sqlite
DB_PATH=./data/enbon-admin.db

# JWT配置
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRES_IN=24h

# 文件存储
STORAGE_PATH=./storage
MAX_FILE_SIZE=104857600
```

## 🐛 常见问题

### 问题1：后端启动失败

**症状**：数据库连接错误

**解决**：
1. 确保 `backend` 目录下存在 `data` 文件夹
2. 删除 `data` 文件夹中的 `.db` 文件，重新启动

### 问题2：前端无法连接后端

**症状**：登录失败，网络错误

**解决**：
1. 确认后端在 `http://localhost:3002` 运行
2. 检查 `frontend/src/api/config.ts` 中的 `baseURL` 配置
3. 确认后端CORS配置正确

### 问题3：时钟不显示

**症状**：首页时钟空白

**解决**：
1. 刷新页面
2. 检查浏览器控制台是否有错误
3. 确认时钟样式正确加载

## 📝 下一步开发计划

### 高优先级
1. 文件上传/下载功能
2. 文件管理系统界面
3. 文件夹CRUD操作
4. 文件权限控制

### 中优先级
1. 小满CRM集成
2. 金蝶财务集成
3. 飞书通知集成
4. 数据看板

### 低优先级
1. AI智能搜索
2. 智能工作流
3. 邮件通知
4. 系统监控

## 💡 开发提示

1. **代码规范**：项目已配置 ESLint 和 Prettier
2. **API调试**：可以使用 Postman 或 Thunder Client 测试 API
3. **数据库查看**：推荐使用 DB Browser for SQLite 查看数据库
4. **热重载**：前后端都支持热重载，修改代码会自动刷新

## 📞 技术支持

如有问题，请查看：
- `architecture.md` - 详细架构文档
- `README.md` - 项目概述
- 后端代码注释
- 前端代码注释

---

**祝开发顺利！🎉**

